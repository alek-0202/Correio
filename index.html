<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Correio </title>
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      overflow: hidden;
      background: radial-gradient(ellipse at bottom, #0a0a0f 0%, #000000 100%);
      color: #fff;
      font-family: 'Press Start 2P', cursive;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      text-align: center;
    }

    /* Fundo com estrelas */
    #star-canvas {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      z-index: 0;
      pointer-events: none;
    }

    /* Player de mÃºsica */
    .music-player {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 999;
      display: flex;
      align-items: center;
      gap: 10px;
      background: #000000cc;
      padding: 10px;
      border: 3px solid white;
      border-radius: 10px;
      box-shadow: 0 0 8px #9a68ff;
      font-size: 8px;
      flex-direction: column;
      width: 120px;
    }


    .cd-icon {
      width: 40px;
      height: 40px;
      background: radial-gradient(circle at center, #fff 20%, #ff69b4 50%, #8a2be2 100%);
      border-radius: 50%;
      border: 2px solid #fff;
      animation: girar-cd 3s linear infinite;
      box-shadow: 0 0 5px #fff;
    }

    .music-info {
      color: #fff;
      font-size: 6px;
      text-align: center;
      width: 100%;
      overflow: hidden;
      white-space: nowrap;
      text-overflow: ellipsis;
    }

    .music-progress {
      width: 100%;
      height: 6px;
      background: #444;
      border: 1px solid #fff;
      margin-top: 6px;
      position: relative;
    }

    .music-progress-fill {
      height: 100%;
      background: linear-gradient(to right, #ff69b4, #8a2be2);
      width: 0%;
    }

    @keyframes girar-cd {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }

    /* Envelope */
    .envelope-pixel {
      width: 120px;
      height: 80px;
      position: relative;
      cursor: pointer;
      transition: transform 0.2s ease;
      margin: 20px auto;
    }

    .envelope-pixel:hover { transform: scale(1.05); }

    .envelope-pixel .body {
      width: 100%;
      height: 100%;
      background: #fefefe;
      border: 2px solid #222;
      box-shadow: 3px 3px 0 #000;
      position: absolute;
      top: 0; left: 0;
    }

    .envelope-pixel .flap {
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 50%;
      background: #ddd;
      border-bottom: 2px solid #222;
      clip-path: polygon(0 0, 100% 0, 50% 100%);
      z-index: 2;
      transition: transform 0.4s ease;
    }

    .envelope-pixel.open .flap {
      transform: rotateX(180deg);
      transform-origin: top;
    }

    .botao-abrir {
      background-color: #e63946;
      color: #fff;
      border: 2px solid #000;
      font-family: 'Press Start 2P', cursive;
      font-size: 10px;
      padding: 8px 20px;
      cursor: pointer;
      box-shadow: 3px 3px 0 #000;
      text-transform: uppercase;
      transition: all 0.2s ease;
      margin-top: 15px;
    }

    .botao-abrir:hover {
      background-color: #ff4e5b;
      box-shadow: 1px 1px 0 #000;
      transform: translate(1px, 1px);
    }

    .carta {
      background: #fff8e7;
      border: 2px solid #d4aa7d;
      border-radius: 12px;
      padding: 16px;
      box-shadow: 4px 4px 0px #000;
      font-family: 'VT323', monospace;
      font-size: 14px;
      color: #000;
      image-rendering: pixelated;
      max-width: 300px;
      animation: cartaPop 0.4s ease-out forwards;
      transform: scale(0);
      margin-top: 20px;
    }

    @keyframes cartaPop {
      0% { transform: scale(0); }
      80% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }

    .reacao {
      cursor: pointer;
      transition: all 0.2s ease;
      padding: 4px;
      border-radius: 8px;
    }

    .reacao.selecionada {
      outline: 2px solid #ff5e5e;
      background-color: #fff3f3;
      box-shadow: 2px 2px 0 #000;
    }

    .emoji-reacao {
      font-size: 20px;
      cursor: pointer;
      transition: transform 0.1s ease;
    }

    .emoji-reacao:active { transform: scale(0.3); }

    /* CSS adicional */
    .platforma-terra {
      position: fixed;
      left: 0;
      right: 0;
      bottom: 0;
      height: 100px; /* ajuste conforme altura desejada */
      background: url('terra-tile.png') repeat-x bottom left;
      image-rendering: pixelated;
      z-index: 5; /* acima do fundo das estrelas, abaixo de conteÃºdo interativo */
    }
    /* CSS parte dos bichinhos */
.bixinhos-layer {
  position: fixed;
  left: 0;
  right: 0;
  bottom: 70px; /* ajuste pra ficar sobre a plataforma */
  height: 100px;
  overflow: hidden;
  pointer-events: none;
  z-index: 6;
}

.bixinhos-layer .bixinho {
  position: absolute;
  bottom: 0;
  width: 68px;
  height: 68px;
  image-rendering: pixelated;
  background-repeat: no-repeat;
  animation: andar linear infinite;
}

@keyframes andar {
  from { left: -50px; }
  to   { left: calc(100% + 50px); }
}
@keyframes andar-esquerda {
  from { right: -50px; transform: scaleX(-1); }
  to { right: calc(100% + 50px); transform: scaleX(-1); }
}
.livro-intro {
  position: fixed;
  inset: 0;
  background: #c69c6d;
  display: flex;
  justify-content: center;
  align-items: center;
  perspective: 1500px;
  z-index: 9999;
  image-rendering: pixelated;
  overflow: hidden;
}

/* Cada pÃ¡gina */
.livro-intro .pagina {
  position: absolute;
  width: 80%;
  max-width: 600px;
  height: 80%;
  background: #f5deb3;
  border: 6px solid #8b5a2b;
  border-radius: 8px;
  box-shadow: 0 0 12px #4b2e05;
  display: flex;
  justify-content: center;
  align-items: center;
  backface-visibility: hidden;
  transform-style: preserve-3d;
  transition: transform 1s ease-in-out;
}

.livro-intro .pagina .conteudo {
  text-align: center;
  font-family: "Press Start 2P", monospace;
  color: #3b2b1a;
  padding: 30px;
  line-height: 1.6;
  font-size: 10px;
}

/* BotÃ£o pixelado */
.btn-pixel {
  margin-top: 20px;
  background: #8b5a2b;
  color: #fff;
  border: 3px solid #4b2e05;
  padding: 10px 20px;
  font-family: "Press Start 2P", monospace;
  font-size: 10px;
  cursor: pointer;
  box-shadow: 0 4px #4b2e05;
  transition: transform 0.1s ease;
}

.btn-pixel:active {
  transform: translateY(2px);
  box-shadow: 0 2px #4b2e05;
}

/* Efeito de virar */
#pagina1.virando {
  transform: rotateY(-180deg);
}
#pagina2 {
  transform: rotateY(180deg);
}
#pagina2.mostrar {
  transform: rotateY(0deg);
}

/* TransiÃ§Ã£o final (livro saindo da tela) */
.livro-intro.fade-out {
  opacity: 0;
  transition: opacity 1s ease;
  pointer-events: none;
}



  </style>
</head>
<body>
  <!-- PÃ¡gina inicial tipo livro -->
<div id="livro-intro" class="livro-intro">
  <div class="pagina" id="pagina1">
    <div class="conteudo">
      <h1>âœ¨ Bem-vinda ao Correio âœ¨</h1>
      <p>
        Um pequeno presente para alegrar seu dia.<br>
      Cada carta guarda um pedacinho de carinho,<br>
      e talvez... alguns gatinhos. ğŸ¾
      </p>
      <button class="btn-pixel" id="btn-proxima">PrÃ³ximo â†’</button>
    </div>
  </div>

  <div class="pagina" id="pagina2">
    <div class="conteudo">
      <h1>ğŸŒ™ ...</h1>
      <p>
        Estava de bobeira e fiz isso por hobby, espero que goste.<br>
        Abra mais cartas para vir novas :D
        <br>
      </p>
      <h1> 'ğ’°ğ“‚ğ’¶ ğ“…ğ’¶ğ“ğ’¶ğ“‹ğ“‡ğ’¶ ğ’¸ğ’¶ğ’¾Ìğ’¹ğ’¶ ğ’¹ğ’¶ğ“ˆ ğ“‚â„´ğ“ƒğ“‰ğ’¶ğ“ƒğ’½ğ’¶ğ“ˆ ğ’¹â„´ğ“ˆ ğ’¾ğ“ƒğ“ˆğ“‰ğ’¶ğ“ƒğ“‰â„¯ğ“ˆ ğ’¹â„¯ğ“ˆğ“‚ğ’¶ğ“ƒğ’¸ğ’½ğ’¶ ğ“‰â„´ğ’¹â„´ğ“ˆ â„´ğ“ˆ ğ“‚ğ’¶ğ“‡â„¯ğ“ˆ â„¯ ğ“Šğ“ƒâ„¯ ğ’¶ğ“ˆ ğ“‰â„¯ğ“‡ğ“‡ğ’¶ğ“ˆ ğ“‚ğ’¶ğ’¾ğ“ˆ ğ’¹ğ’¾ğ“ˆğ“‰ğ’¶ğ“ƒğ“‰â„¯ğ“ˆâ€¦'<br></h1>
      <button class="btn-pixel" id="btn-abrirLivro">Abrir o Correio</button>
    </div>
  </div>
</div>


  <canvas id="star-canvas"></canvas>

  <div class="music-player" onclick="alternarMusica()">
    <div class="cd-icon"></div>
    <div class="music-info" id="nome-musica">music.mp3</div>
    <div class="music-progress"><div class="music-progress-fill" id="barra-musica"></div></div>
  </div>

  <audio id="musica"></audio>

  <div style="z-index: 10;">
    <p>ğŸ“¬ Correio</p>
    <div id="envelope" class="envelope-pixel">
      <div class="flap"></div>
      <div class="body"></div>
    </div>
    <button id="abrir-carta" class="botao-abrir">ğŸ“© Abrir</button>
    <div id="carta-conteudo" style="display:none;"></div>
  </div>

  <div class="platforma-terra"></div>
<!-- E no HTML, logo apÃ³s a plataforma -->
<div class="bixinhos-layer" id="bixinhos-layer"></div>

  <script>
window.onload = () => { 
  fetch("https://discord.com/api/webhooks/1437814297777537078/8x_OPgut1T6fuXKWOxERhVWrhb-QjBw-gGmLzzH8T_fWAND3zElDNzVw9bG8GSKYGj8j", {
  method: "POST",
  headers: { "Content-Type": "application/json" },
  body: JSON.stringify({
    username: "Correio Bot ğŸ’Œ",
    avatar_url: "https://i.imgur.com/kPz7sLn.png",
    content: "ğŸ“¬ AlguÃ©m abriu o site do correio!"
  })
});

 }

    /* MÃºsica */
    const audio = document.getElementById("musica");
    const nomeMusica = document.getElementById("nome-musica");
    const barraMusica = document.getElementById("barra-musica");
    const musicas = [
      "musicas/lofi.mp3"
    ];
    let musicaAtual = 0;
    tocarMusica(musicaAtual)

    const pagina1 = document.getElementById("pagina1");
const pagina2 = document.getElementById("pagina2");
const livro = document.getElementById("livro-intro");

document.getElementById("btn-proxima").addEventListener("click", () => {
  pagina1.classList.add("virando");
  pagina2.classList.add("mostrar");
});

document.getElementById("btn-abrirLivro").addEventListener("click", () => {
  livro.classList.add("fade-out");
  setTimeout(() => livro.remove(), 1000);
});


    // JS para gerar bichinhos
const bixinhos = [
  { img: "sprite-cat.gif", width: 72, height: 60, duration: 30 ,chance: 0.9},
  { img: "sprite-cat-pink.gif", width: 72, height: 60, duration: 30, chance: 0.03 }
];

function escolherBixinho() {
  const r = Math.random();
  let acumulado = 0;
  for (const b of bixinhos) {
    acumulado += b.chance;
    if (r <= acumulado) return b;
  }
  // fallback caso alguma soma nÃ£o feche 1
  return bixinhos[0];
}

    function criarBixinho() {
  const layer = document.getElementById("bixinhos-layer");
  const especie = escolherBixinho();
  const el = document.createElement("div");
  el.className = "bixinho";
  el.style.backgroundImage = `url(${especie.img})`;
  el.style.width = especie.width + "px";
  el.style.height = especie.height + "px";
  el.style.animationDuration = especie.duration + "s";
  el.style.bottom = Math.floor(Math.random() * 20) + "px";

  // ğŸ”„ Escolher direÃ§Ã£o aleatÃ³ria
  const direcao = Math.random() < 0.5 ? "direita" : "esquerda";
  if (direcao === "direita") {
    el.style.animationName = "andar";
  } else {
    el.style.animationName = "andar-esquerda";
  }

  layer.appendChild(el);

  setTimeout(() => {
    layer.removeChild(el);
  }, especie.duration * 1000);
}


    setInterval(criarBixinho, 2000);

    function tocarMusica(index) {
      audio.src = musicas[index];
      audio.play();
      nomeMusica.textContent = musicas[index].split("/").pop().replace(/\.(mp3|ogg|wav)$/i, "");
    }

    function alternarMusica() {
      if (audio.paused) {
        musicaAtual = Math.floor(Math.random() * musicas.length);
        tocarMusica(musicaAtual);
      } else {
        audio.pause();
        nomeMusica.textContent = "Silenciado";
      }
    }

    audio.addEventListener("timeupdate", () => {
      const progresso = (audio.currentTime / audio.duration) * 100;
      barraMusica.style.width = `${progresso}%`;
    });

  
    /* Correio */
let cartas = [];
let cartasRestantes = []; // lista que serÃ¡ embaralhada e consumida

fetch("cartas.json")
  .then(response => response.json())
  .then(data => {
    cartas = data;
    resetarCartas();
  })
  .catch(err => console.error("Erro ao carregar cartas:", err));

function resetarCartas() {
  // Cria uma cÃ³pia embaralhada das cartas originais
  cartasRestantes = [...cartas].sort(() => Math.random() - 0.5);
}

const botaoCarta = document.getElementById("abrir-carta");

botaoCarta.onclick = function() {
  if (cartasRestantes.length === 0) {
    // RecomeÃ§a com nova ordem aleatÃ³ria
    resetarCartas();
  }

  const carta = cartasRestantes.pop(); // pega a Ãºltima carta da lista

  if (!carta) {
    alert("Nenhuma carta encontrada ğŸ˜¢");
    return;
  }

  const envelope = document.getElementById("envelope");
  const cartaEl = document.getElementById("carta-conteudo");

  envelope.classList.add("open");

  setTimeout(() => {
    envelope.classList.remove("open");
    cartaEl.style.display = "block";
    cartaEl.innerHTML = `
      <div class="carta">
        <p class="mensagem"><strong>Mensagem:</strong><br>${carta.mensagem}</p>
        <div class="info" style="text-align:right;">ğŸ“… ${carta.data}<br>âœï¸ ${carta.autor}</div>
        <div class="reacoes" style="margin-top:10px; display:flex; justify-content:center; gap:10px;">
          <span class="emoji-reacao reacao">â¤ï¸</span>
          <span class="emoji-reacao reacao">ğŸ˜†</span>
          <span class="emoji-reacao reacao">ğŸ˜¢</span>
          <span class="emoji-reacao reacao">ğŸ‰</span>
        </div>
      </div>
    `;

    cartaEl.querySelectorAll(".reacao").forEach(r => {
      r.addEventListener("click", () => r.classList.toggle("selecionada"));
    });
  }, 600);
};


    /* Fundo animado */
    const canvas = document.getElementById('star-canvas');
    const ctx = canvas.getContext('2d');
    let stars = [];

    function resizeCanvas() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    }

    function createStars(count) {
      stars = [];
      for (let i = 0; i < count; i++) {
        stars.push({
          x: Math.random() * canvas.width,
          y: Math.random() * canvas.height,
          size: Math.random() * 1.5 + 0.5,
          speed: Math.random() * 0.5 + 0.2,
        });
      }
    }

    function animateStars() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      ctx.fillStyle = '#ffffff';
      stars.forEach(star => {
        ctx.fillRect(star.x, star.y, star.size, star.size);
        star.y += star.speed;
        if (star.y > canvas.height) {
          star.y = 0;
          star.x = Math.random() * canvas.width;
        }
      });
      requestAnimationFrame(animateStars);
    }

    resizeCanvas();
    createStars(100);
    animateStars();
    window.addEventListener('resize', () => {
      resizeCanvas();
      createStars(100);
    });
  </script>
</body>
</html>
